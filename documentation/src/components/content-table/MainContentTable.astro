---
interface Props {
	title?: string;
}
import BaseContentTable from "@components/content-table/BaseContentTable.svelte";
import { ConfigGlob, getSections } from "src/lib/content";
import type { Content } from "src/lib/content";

const learnSections = await getSections(
	import.meta.glob("/content/learn/*/config.json") as ConfigGlob,
	await Astro.glob("/content/learn/*/*.md")
);

const referenceSections = await getSections(
	import.meta.glob("/content/reference/*/config.json") as ConfigGlob,
	await Astro.glob("/content/reference/*/*.md")
);

const contents: Content[] = [
	{
		title: "Learn",
		id: "learn",
		sections: learnSections
	},
	{
		title: "Reference",
		id: "reference",
		sections: referenceSections
	}
]
---

<BaseContentTable
	client:load
	contents={contents}
	currentPath={Astro.url.pathname}
	selectedContent={Astro.url.pathname.split("/")[1] || "learn"}
/>
